[
  {
    "objectID": "exploration.html#réimportation-des-données",
    "href": "exploration.html#réimportation-des-données",
    "title": "Exploration des jeux de données",
    "section": "Réimportation des données",
    "text": "Réimportation des données\n\n\nCode\ndata_energy_cons_clean <- as_tibble(read.csv(file = \"data/processed/owid-energy-consumption-data.csv\"))\n\ndata_life_clean <- as_tibble(read.csv(file = \"data/processed/gm-life-expectancy-data.csv\"))\n\n\nVous pouvez télécharger les deux jeux de données nettoyés ci-dessous.\n\nEnergy\nLife Expectancy at Birth\n\n\n\nCode\nzip(zipfile = \"data/processed/data_package.zip\", files = c(\"data/processed/owid-energy-consumption-data.csv\", \"data/processed/gm-life-expectancy-data.csv\"))\n\n\nOu télécharger le .zip suivant contenant les deux fichiers : ZIP"
  },
  {
    "objectID": "exploration.html#première-exploration",
    "href": "exploration.html#première-exploration",
    "title": "Exploration des jeux de données",
    "section": "Première exploration",
    "text": "Première exploration\nObservons à quoi ressemblent nos données.\nDans le jeu Energy, nous avons les 18 variables suivantes :\ncontinent, iso_code, country, year, population, biofuel_consumption, coal_consumption, fossil_fuel_consumption, gas_consumption, hydro_consumption, low_carbon_consumption, nuclear_consumption, oil_consumption, other_renewable_consumption, primary_energy_consumption, renewables_consumption, solar_consumption, wind_consumption\nNous avons 219 pays dans le jeu Energy et 195 pays observés dans le jeu Life Expectancy.\n\nQuelques statistiques\n\nEnergy\n\n\nCode\ndata_energy_cons_clean %>%\n    skim() %>%\n    kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_type\nskim_variable\nn_missing\ncomplete_rate\ncharacter.min\ncharacter.max\ncharacter.empty\ncharacter.n_unique\ncharacter.whitespace\nnumeric.mean\nnumeric.sd\nnumeric.p0\nnumeric.p25\nnumeric.p50\nnumeric.p75\nnumeric.p100\nnumeric.hist\n\n\n\n\ncharacter\ncontinent\n0\n1.0000000\n4\n9\n0\n6\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\ncharacter\niso_code\n0\n1.0000000\n3\n3\n0\n219\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\ncharacter\ncountry\n0\n1.0000000\n4\n32\n0\n219\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nnumeric\nyear\n0\n1.0000000\nNA\nNA\nNA\nNA\nNA\n1.973103e+03\n3.527834e+01\n1900.000\n1.944000e+03\n1983.0000\n2.003000e+03\n2.021000e+03\n▃▃▃▆▇\n\n\nnumeric\npopulation\n105\n0.9935948\nNA\nNA\nNA\nNA\nNA\n2.683007e+07\n1.009892e+08\n1833.000\n1.242297e+06\n5655064.0000\n1.707491e+07\n1.425894e+09\n▇▁▁▁▁\n\n\nnumeric\nbiofuel_consumption\n15555\n0.0511194\nNA\nNA\nNA\nNA\nNA\n1.750296e+01\n5.325610e+01\n0.000\n0.000000e+00\n1.7265\n1.113350e+01\n4.158700e+02\n▇▁▁▁▁\n\n\nnumeric\ncoal_consumption\n12197\n0.2559629\nNA\nNA\nNA\nNA\nNA\n3.635408e+02\n1.591186e+03\n0.000\n3.122250e+00\n30.6280\n1.464560e+02\n2.393606e+04\n▇▁▁▁▁\n\n\nnumeric\nfossil_fuel_consumption\n12200\n0.2557799\nNA\nNA\nNA\nNA\nNA\n1.126322e+03\n3.167427e+03\n0.097\n1.151510e+02\n275.7240\n8.837950e+02\n3.622259e+04\n▇▁▁▁▁\n\n\nnumeric\ngas_consumption\n12174\n0.2573659\nNA\nNA\nNA\nNA\nNA\n2.714109e+02\n8.072350e+02\n0.000\n8.603500e+00\n51.4900\n2.129660e+02\n8.506917e+03\n▇▁▁▁▁\n\n\nnumeric\nhydro_consumption\n12178\n0.2571219\nNA\nNA\nNA\nNA\nNA\n8.460001e+01\n2.342560e+02\n0.000\n1.160000e+00\n12.7240\n5.990150e+01\n3.471190e+03\n▇▁▁▁▁\n\n\nnumeric\nlow_carbon_consumption\n12178\n0.2571219\nNA\nNA\nNA\nNA\nNA\n1.710000e+02\n4.878965e+02\n0.000\n3.125000e+00\n29.0250\n1.186910e+02\n7.568308e+03\n▇▁▁▁▁\n\n\nnumeric\nnuclear_consumption\n12335\n0.2475447\nNA\nNA\nNA\nNA\nNA\n6.572366e+01\n2.386440e+02\n0.000\n0.000000e+00\n0.0000\n2.269325e+01\n2.303296e+03\n▇▁▁▁▁\n\n\nnumeric\noil_consumption\n12171\n0.2575490\nNA\nNA\nNA\nNA\nNA\n4.876528e+02\n1.230013e+03\n0.097\n6.367900e+01\n140.1235\n3.838988e+02\n1.121408e+04\n▇▁▁▁▁\n\n\nnumeric\nother_renewable_consumption\n12221\n0.2544989\nNA\nNA\nNA\nNA\nNA\n8.552775e+00\n2.970564e+01\n0.000\n0.000000e+00\n0.1210\n3.729000e+00\n5.423670e+02\n▇▁▁▁▁\n\n\nnumeric\nprimary_energy_consumption\n6837\n0.5829317\nNA\nNA\nNA\nNA\nNA\n5.850661e+02\n2.465123e+03\n0.000\n5.145500e+00\n46.4135\n2.914692e+02\n4.379089e+04\n▇▁▁▁▁\n\n\nnumeric\nrenewables_consumption\n12178\n0.2571219\nNA\nNA\nNA\nNA\nNA\n1.077307e+02\n3.234790e+02\n0.000\n2.440000e+00\n17.1260\n7.868350e+01\n6.545095e+03\n▇▁▁▁▁\n\n\nnumeric\nsolar_consumption\n12221\n0.2544989\nNA\nNA\nNA\nNA\nNA\n3.008373e+00\n2.653056e+01\n0.000\n0.000000e+00\n0.0000\n1.500000e-02\n8.556530e+02\n▇▁▁▁▁\n\n\nnumeric\nwind_consumption\n12221\n0.2544989\nNA\nNA\nNA\nNA\nNA\n8.297709e+00\n5.954927e+01\n0.000\n0.000000e+00\n0.0000\n1.780000e-01\n1.715493e+03\n▇▁▁▁▁\n\n\n\n\n\n\n\nLife Expectancy at Birth\n\n\nCode\ndata_life_clean %>%\n    skim() %>%\n    kable()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_type\nskim_variable\nn_missing\ncomplete_rate\ncharacter.min\ncharacter.max\ncharacter.empty\ncharacter.n_unique\ncharacter.whitespace\nnumeric.mean\nnumeric.sd\nnumeric.p0\nnumeric.p25\nnumeric.p50\nnumeric.p75\nnumeric.p100\nnumeric.hist\n\n\n\n\ncharacter\niso_code\n0\n1\n3\n3\n0\n195\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\ncharacter\ncountry\n0\n1\n3\n30\n0\n195\n0\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nnumeric\nyear\n0\n1\nNA\nNA\nNA\nNA\nNA\n1950.38390\n86.50872\n1800.00\n1876.0\n1952.000\n2024.00\n2100.00\n▇▇▇▇▇\n\n\nnumeric\nlife_expectancy\n0\n1\nNA\nNA\nNA\nNA\nNA\n53.35266\n21.32014\n1.01\n32.9\n50.015\n73.96\n94.42\n▁▇▃▅▅"
  },
  {
    "objectID": "exploration.html#life-expectancy-at-birth-1",
    "href": "exploration.html#life-expectancy-at-birth-1",
    "title": "Exploration des jeux de données",
    "section": "Life Expectancy at Birth",
    "text": "Life Expectancy at Birth\n\nTâche : calculer le temps écoulé en jours entre la première année que des données ont été récoltées pour chacun des pays et la production de ce rapport\nIdentifions d’abord la première année pour chaque pays.\n\n\nCode\n# source : https://stackoverflow.com/questions/60460203/finding-year-of-first-occurrence-in-r\nlife_country <- data_life_clean %>%\n    # ne conserver que les variables utiles à la tâche\n    select(country, year) %>%\n    # grouper les observation par pays et ordonner selon l'année\n    group_by(country) %>%\n    arrange(country, year) %>%\n    # ne conserver que la première année pour chaque pays\n    slice_min(order_by = year, n = 1)\n\nfirst_year <- unique(life_country$year)\n\n\nNous nous retrouvons donc avec les années suivantes : 1800, 1950\nPuisque nous n’avons pas la date exacte dans le jeu de données, mais seulement l’année, nous établirons cette date au 1er juillet, soit au milieu de l’année, pour calculer le nombre de jours écoulés.\n\n\nCode\n# préciser une date exacte\nfirst_year <- as.Date(paste0(first_year, \"-07-01\"))\n\n# calculer le nombre de jours écoulés\n# source code : https://bookdown.org/Tazinho/Tidyverse-Cookbook/dates-and-times.html\n# source timezone : https://rdrr.io/r/base/timezones.html\ndays_passed <- difftime(lubridate::ymd(first_year, tz = Sys.timezone()), \n                        lubridate::ymd(today(), tz = Sys.timezone()), \n                        units = \"days\") %>%\n    as.double() %>%\n    round() %>%\n    abs()\n\ncountries_1800 <- paste(life_country$country[life_country$year == \"1800\"], collapse = \", \")\ncountries_1950 <- paste(life_country$country[life_country$year == \"1950\"], collapse = \", \")\n\n\ntibble(c(countries_1800, countries_1950), lubridate::year(first_year), days_passed) %>%\n    rename(first_year = `lubridate::year(first_year)`,\n           countries = `c(countries_1800, countries_1950)`) %>%\n    kable()\n\n\n\n\n\n\n\n\n\n\ncountries\nfirst_year\ndays_passed\n\n\n\n\nAfghanistan, Albania, Algeria, Angola, Antigua and Barbuda, Argentina, Armenia, Australia, Austria, Azerbaijan, Bahamas, Bahrain, Bangladesh, Barbados, Belarus, Belgium, Belize, Benin, Bhutan, Bolivia, Bosnia and Herzegovina, Botswana, Brazil, Brunei, Bulgaria, Burkina Faso, Burundi, Cambodia, Cameroon, Canada, Cape Verde, Central African Republic, Chad, Chile, China, Colombia, Comoros, Congo, Dem. Rep., Congo, Rep., Costa Rica, Cote d’Ivoire, Croatia, Cuba, Cyprus, Czech Republic, Denmark, Djibouti, Dominican Republic, Ecuador, Egypt, El Salvador, Equatorial Guinea, Eritrea, Estonia, Ethiopia, Fiji, Finland, France, Gabon, Gambia, Georgia, Germany, Ghana, Greece, Grenada, Guatemala, Guinea, Guinea-Bissau, Guyana, Haiti, Honduras, Hong Kong, China, Hungary, Iceland, India, Indonesia, Iran, Iraq, Ireland, Israel, Italy, Jamaica, Japan, Jordan, Kazakhstan, Kenya, Kiribati, Kuwait, Kyrgyz Republic, Lao, Latvia, Lebanon, Lesotho, Liberia, Libya, Lithuania, Luxembourg, Macedonia, FYR, Madagascar, Malawi, Malaysia, Maldives, Mali, Malta, Mauritania, Mauritius, Mexico, Micronesia, Fed. Sts., Moldova, Mongolia, Montenegro, Morocco, Mozambique, Myanmar, Namibia, Nepal, Netherlands, New Zealand, Nicaragua, Niger, Nigeria, North Korea, Norway, Oman, Pakistan, Palestine, Panama, Papua New Guinea, Paraguay, Peru, Philippines, Poland, Portugal, Qatar, Romania, Russia, Rwanda, Samoa, Sao Tome and Principe, Saudi Arabia, Senegal, Serbia, Seychelles, Sierra Leone, Singapore, Slovak Republic, Slovenia, Solomon Islands, Somalia, South Africa, South Korea, South Sudan, Spain, Sri Lanka, St. Lucia, St. Vincent and the Grenadines, Sudan, Suriname, Swaziland, Sweden, Switzerland, Syria, Taiwan, Tajikistan, Tanzania, Thailand, Timor-Leste, Togo, Tonga, Trinidad and Tobago, Tunisia, Turkey, Turkmenistan, Uganda, Ukraine, United Arab Emirates, United Kingdom, United States, Uruguay, Uzbekistan, Vanuatu, Venezuela, Vietnam, Yemen, Zambia, Zimbabwe\n1800\n81256\n\n\nAndorra, Dominica, Marshall Islands, Monaco, Nauru, Palau, San Marino, St. Kitts and Nevis, Tuvalu\n1950\n26470"
  },
  {
    "objectID": "exploration.html#combinaison-des-deux-jeux",
    "href": "exploration.html#combinaison-des-deux-jeux",
    "title": "Exploration des jeux de données",
    "section": "Combinaison des deux jeux",
    "text": "Combinaison des deux jeux\n\n\nCode\ndata_merged <- merge(data_energy_cons_clean,\n                  data_life_clean,\n                  by = c(\"country\", \"year\", \"iso_code\")) %>%\n    tibble()\n\n\nAfin de simplifier l’analyse, nous allons mettre les différentes consommations par habitant et les convertir en kW/h.\n\n\nCode\n# convertir les consommations par habitant et en kilowatt/heure\ndata_merged_per_capita <- data_merged %>%\n    mutate(across(.cols = contains(\"consumption\"), .fns = ~ .x / population * 1000000000, .names = \"{.col}_per_capita\", .keep = \"all\")) %>%\n    select(!biofuel_consumption:wind_consumption)\n\nkable(slice_sample(data_merged_per_capita, n = 5))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncountry\nyear\niso_code\ncontinent\npopulation\nlife_expectancy\nbiofuel_consumption_per_capita\ncoal_consumption_per_capita\nfossil_fuel_consumption_per_capita\ngas_consumption_per_capita\nhydro_consumption_per_capita\nlow_carbon_consumption_per_capita\nnuclear_consumption_per_capita\noil_consumption_per_capita\nother_renewable_consumption_per_capita\nprimary_energy_consumption_per_capita\nrenewables_consumption_per_capita\nsolar_consumption_per_capita\nwind_consumption_per_capita\n\n\n\n\nAngola\n2006\nAGO\nAfrica\n20162338\n56.96\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n2453.237\nNA\nNA\nNA\n\n\nNetherlands\n1983\nNLD\nEurope\n14369651\n76.33\nNA\n4272.129\n52690.63\n23815.61\n0\n760.0045\n708.7159\n24602.82\n51.28865\n53450.637\n51.28865\n0\n0\n\n\nBulgaria\n1945\nBGR\nEurope\n6953599\n51.72\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nCosta Rica\n2017\nCRI\nAmericas\n4993849\n79.83\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n12726.857\nNA\nNA\nNA\n\n\nCambodia\n1992\nKHM\nAsia\n9718217\n58.60\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n224.321\nNA\nNA\nNA"
  },
  {
    "objectID": "exploration.html#visualisation",
    "href": "exploration.html#visualisation",
    "title": "Exploration des jeux de données",
    "section": "Visualisation",
    "text": "Visualisation\n\nEspérance de vie selon l’année\n\n\nCode\ndata_merged_per_capita %>%\n    group_by(year) %>%\n    ggplot() +\n    geom_line(mapping = aes(x = year, y = life_expectancy, color = continent, group = country), \n                na.rm = TRUE) +\n    my_theme()\n\n\n\n\n\nOn constate rapidement une baisse de l’espérance de vie lors des deux gueres mondiales. Les autres points qui se trouvent sous la masse principale indiquent probablement des événements précis qui ont fait plusieurs morts dans des pays en particulier.\n\n\nÉvolution de la population du Canada\n\n\nCode\ndata_merged_per_capita %>%\n    filter(country == \"Canada\") %>%\n    ggplot() +\n      geom_line(mapping = aes(x = year, y = population, colour = country), \n                na.rm = TRUE) +\n    my_theme()\n\n\n\n\n\n\n\nConsommation d’énergie fossile vs renouvelable (par habitant)\n\n\nCode\ndata_merged_per_capita %>%\n    ggplot() +\n      geom_point(mapping = aes(x = fossil_fuel_consumption_per_capita, y = renewables_consumption_per_capita, color = continent), \n                 na.rm = TRUE) +\n    my_theme()\n\n\n\n\n\nOn peut constater que l’Asie est une grande consommatrice d’énergie fossile, tandis que l’Europe a une tendance vers le renouvelable. Il faut tout de même pas se leurer puisque les deux axes ne sont pas gradués de la même façon. La consommation d’énergie renouvelable est bien en-deça de celle des énergies fossiles.\n\n\nConsommation d’énergie par habitant vs espérance de vie en 2020\n\n\nCode\ndata_merged_per_capita %>%\n    filter(year == 2020) %>%\n    ggplot() +\n      geom_point(mapping = aes(x = life_expectancy, y = primary_energy_consumption_per_capita, color = continent), \n                 na.rm = TRUE) +\n    my_theme()\n\n\n\n\n\nOn peut observer une légère tendance à consommer plus par année là où l’on vie plus longtemps.\n\n\nÉvolution de la consommation d’énergie primaire par habitant\n\n\nCode\ndata_merged_per_capita %>%\n    ggplot() +\n      geom_line(mapping = aes(x = year, y = primary_energy_consumption_per_capita, color = continent, group = country), \n                 na.rm = TRUE) +\n    xlim(1960,2025) +\n    my_theme()"
  },
  {
    "objectID": "import.html#téléchargement-des-données",
    "href": "import.html#téléchargement-des-données",
    "title": "Importation des données",
    "section": "Téléchargement des données",
    "text": "Téléchargement des données\n\nOur World in Data - Energy\n\nLes données proviennent de Ritchie, Roser, et Rosado (2022).\n\n\n\nCode\n# chemin relatif vers le dossier qui contient les données brutes\nbase_path <- path(\"data\", \"raw\")\n\nurl_energy <- \"https://nyc3.digitaloceanspaces.com/owid-public/data/energy/owid-energy-data.csv\"\n\n# personnaliser le nom du fichier téléchargé en y ajoutant la date du jour\nfname_energy <- paste(today(), \"owid-energy-data.csv\", sep = \"_\")\n# établir le chemin relatif complet de notre fichier personnalisé téléchargé\nfpath_energy <- path(base_path, fname_energy)\n\n# télécharger les données seulement si elles n'ont pas déjà été téléchargées aujourd'hui\n# inspiré de : https://stackoverflow.com/questions/14904983/how-do-i-check-the-existence-of-a-downloaded-file\n# télécharge seulement si le fichier en date du jour n'existe pas en supprimant l'ancienne version\nif (!file.exists(fpath_energy)) {\n    file.remove(paste(base_path, dir(path = base_path, pattern = \"*_owid-energy-data.csv\"), sep = \"/\"))\n    download.file(url = url_energy, \n              destfile = fpath_energy)\n}\n\n\nLe fichier a été téléchargé ici : data/raw/2022-12-20_owid-energy-data.csv\n\n\nGapminder - Life Expectancy at Birth\n\nLes données proviennent de Ingabire (2021)\n\n\n\nCode\n# url prise de Download lastest version : Excel file\nurl_life <- \"https://docs.google.com/spreadsheets/d/1RheSon1-q4vFc3AGyupVPH6ptEByE-VtnjOCselU0PE/export?format=xlsx\"\n\n# pour ne pas avoir de demande d'authentification Google\ngs4_deauth()\n\n# date sans le jour (année-mois)\ntoday_month <- paste(year(today()), month(today()), sep = \"-\")\n# personnaliser le nom du fichier téléchargé en y ajoutant la date du jour\nfname_life <- paste(today_month, \"gm-life-expectancy-data.xlsx\", sep = \"_\")\n# établir le chemin relatif complet de notre fichier personnalisé téléchargé\nfpath_life <- path(base_path, fname_life)\n\nif (!file.exists(fpath_life)) {\n    file.remove(paste(base_path, dir(path = base_path, pattern = \"*_gm-life-expectancy-data.xlsx\"), sep = \"/\"))\n    download.file(url = url_life, \n              destfile = fpath_life)\n}\n\n\nLe fichier a été téléchargé ici : data/raw/2022-12_gm-life-expectancy-data.xlsx\nNous constatons maintenant que notre dossier contient les fichiers suivants :\ndata/raw/2022-12-20_owid-energy-data.csv, data/raw/2022-12_gm-life-expectancy-data.xlsx"
  },
  {
    "objectID": "import.html#premier-coup-doeil",
    "href": "import.html#premier-coup-doeil",
    "title": "Importation des données",
    "section": "Premier coup d’oeil",
    "text": "Premier coup d’oeil\nVoyons d’abord plus en détails ce que nous avons comme données.\n\n\nCode\ndata_energy <- as_tibble(read_csv(file = fpath_energy))\n\ndata_life <- as_tibble(read_excel(fpath_life, sheet = \"data-for-countries-etc-by-year\", range = NULL, trim_ws = TRUE, col_names = TRUE))\n\n\n\nÉnergie\n\n\nCode\nkable(slice_sample(data_energy, n = 5))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncountry\nyear\niso_code\npopulation\ngdp\nbiofuel_cons_change_pct\nbiofuel_cons_change_twh\nbiofuel_cons_per_capita\nbiofuel_consumption\nbiofuel_elec_per_capita\nbiofuel_electricity\nbiofuel_share_elec\nbiofuel_share_energy\ncarbon_intensity_elec\ncoal_cons_change_pct\ncoal_cons_change_twh\ncoal_cons_per_capita\ncoal_consumption\ncoal_elec_per_capita\ncoal_electricity\ncoal_prod_change_pct\ncoal_prod_change_twh\ncoal_prod_per_capita\ncoal_production\ncoal_share_elec\ncoal_share_energy\nelectricity_demand\nelectricity_generation\nelectricity_share_energy\nenergy_cons_change_pct\nenergy_cons_change_twh\nenergy_per_capita\nenergy_per_gdp\nfossil_cons_change_pct\nfossil_cons_change_twh\nfossil_elec_per_capita\nfossil_electricity\nfossil_energy_per_capita\nfossil_fuel_consumption\nfossil_share_elec\nfossil_share_energy\ngas_cons_change_pct\ngas_cons_change_twh\ngas_consumption\ngas_elec_per_capita\ngas_electricity\ngas_energy_per_capita\ngas_prod_change_pct\ngas_prod_change_twh\ngas_prod_per_capita\ngas_production\ngas_share_elec\ngas_share_energy\ngreenhouse_gas_emissions\nhydro_cons_change_pct\nhydro_cons_change_twh\nhydro_consumption\nhydro_elec_per_capita\nhydro_electricity\nhydro_energy_per_capita\nhydro_share_elec\nhydro_share_energy\nlow_carbon_cons_change_pct\nlow_carbon_cons_change_twh\nlow_carbon_consumption\nlow_carbon_elec_per_capita\nlow_carbon_electricity\nlow_carbon_energy_per_capita\nlow_carbon_share_elec\nlow_carbon_share_energy\nnet_elec_imports\nnet_elec_imports_share_demand\nnuclear_cons_change_pct\nnuclear_cons_change_twh\nnuclear_consumption\nnuclear_elec_per_capita\nnuclear_electricity\nnuclear_energy_per_capita\nnuclear_share_elec\nnuclear_share_energy\noil_cons_change_pct\noil_cons_change_twh\noil_consumption\noil_elec_per_capita\noil_electricity\noil_energy_per_capita\noil_prod_change_pct\noil_prod_change_twh\noil_prod_per_capita\noil_production\noil_share_elec\noil_share_energy\nother_renewable_consumption\nother_renewable_electricity\nother_renewable_exc_biofuel_electricity\nother_renewables_cons_change_pct\nother_renewables_cons_change_twh\nother_renewables_elec_per_capita\nother_renewables_elec_per_capita_exc_biofuel\nother_renewables_energy_per_capita\nother_renewables_share_elec\nother_renewables_share_elec_exc_biofuel\nother_renewables_share_energy\nper_capita_electricity\nprimary_energy_consumption\nrenewables_cons_change_pct\nrenewables_cons_change_twh\nrenewables_consumption\nrenewables_elec_per_capita\nrenewables_electricity\nrenewables_energy_per_capita\nrenewables_share_elec\nrenewables_share_energy\nsolar_cons_change_pct\nsolar_cons_change_twh\nsolar_consumption\nsolar_elec_per_capita\nsolar_electricity\nsolar_energy_per_capita\nsolar_share_elec\nsolar_share_energy\nwind_cons_change_pct\nwind_cons_change_twh\nwind_consumption\nwind_elec_per_capita\nwind_electricity\nwind_energy_per_capita\nwind_share_elec\nwind_share_energy\n\n\n\n\nEU28 (Shift)\n1946\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n36.728\n873.920\nNA\n3253.367\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n23.383\n4.621\nNA\n24.382\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n2.757\n2.082\nNA\n77.595\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nTurkey\n1992\nTUR\n56302040\n538702184448\nNA\nNA\nNA\nNA\n0.888\n0.05\n0.074\nNA\nNA\n-0.362\n-0.721\n3526.262\n198.536\n435.331\n24.51\n10.117\n12.948\n2503.003\n140.924\n36.392\n32.908\n67.22\n67.35\n11.164\n5.156\n29.579\n10715.42\n1.12\n3.575\n18.098\n722.176\n40.66\n9313.886\n524.391\n60.371\n86.92\n9.414\n3.725\n43.289\n192\n10.81\n768.863\n-2.463\n-0.053\n37.45\n2.109\n16.050\n7.175\nNA\n17.126\n11.487\n78.561\n471.919\n26.57\n1395.354\n39.451\n13.022\n17.023\n11.482\n78.909\n474.05\n26.69\n1401.532\n39.629\n13.08\n-0.13\n-0.193\nNA\n0\n0\n0\n0.00\n0\n0.000\n0\n5.643\n15.094\n282.566\n94.846\n5.34\n5018.76\n-4.284\n-2.412\n957.205\n53.893\n7.929\n46.837\n0.348\n0.12\n0.07\n-2.506\n-0.005\n2.131\n1.243\n6.178\n0.178\n0.104\n0.058\n1196.227\n603.300\n17.023\n11.482\n78.909\n474.05\n26.69\n1401.532\n39.629\n13.08\nNA\n0\n0\n0\n0.00\n0\n0.000\n0\nNA\n0\n0\n0\n0.00\n0\n0.000\n0\n\n\nOECD - Europe (EIA)\n1981\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n-3.617\n-731.658\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n19499.332\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nMartinique\n1989\nMTQ\n368415\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0.000\n0.000\n0.000\nNA\nNA\nNA\nNA\nNA\n38.131\n1.615\n15882.36\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0.000\n0.00\n0.000\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0.000\n0.000\n0.000\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n5.851\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nG7 (Ember)\n2017\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n210.66\n2.796\nNA\n377.121\nNA\nNA\nNA\nNA\nNA\n1897.33\nNA\nNA\nNA\nNA\n25.181\nNA\n7534.67\n7534.67\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n4235.06\nNA\nNA\n56.208\nNA\nNA\nNA\nNA\nNA\n2166.34\nNA\nNA\nNA\nNA\nNA\n28.752\nNA\n2841.48\nNA\nNA\nNA\nNA\n880.13\nNA\n11.681\nNA\nNA\nNA\nNA\nNA\n3299.61\nNA\n43.792\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n1473.29\nNA\n19.553\nNA\nNA\nNA\nNA\nNA\n171.39\nNA\nNA\nNA\nNA\nNA\n2.275\nNA\nNA\n235.80\n25.14\nNA\nNA\nNA\nNA\nNA\n3.130\n0.334\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n1826.32\nNA\n24.239\nNA\nNA\nNA\nNA\nNA\n220.72\nNA\n2.929\nNA\nNA\nNA\nNA\nNA\n489.67\nNA\n6.499\nNA\n\n\n\n\n\nPremière question à se poser : Utiliserons-nous toutes ces variables?\nSûrement pas, d’autant plus qu’il semble y avoir beaucoup d’informations manquantes. Nous y reviendrons…\n\n\nEspérance de vie\n\n\nCode\nkable(slice_sample(data_life, n = 5))\n\n\n\n\n\ngeo\nname\ntime\nLife expectancy\n\n\n\n\nkwt\nKuwait\n2025\n82.15\n\n\nswz\nSwaziland\n2015\n54.88\n\n\nzaf\nSouth Africa\n2066\n73.05\n\n\ngmb\nGambia\n1911\n39.80\n\n\nmdg\nMadagascar\n1845\n30.50"
  },
  {
    "objectID": "import.html#nettoyage-des-données",
    "href": "import.html#nettoyage-des-données",
    "title": "Importation des données",
    "section": "Nettoyage des données",
    "text": "Nettoyage des données\nÀ première vue, les données semblent être bien arrangées et tidy. Rien de trop grave ne saute aux yeux. Uniformisons cependant les noms des colonnes entre les deux jeux de données en les nettoyant un peu par le fait même.\n\n\nCode\n# renommer les titres de colonnes de data_life pour concorder avec ceux de data_energy\ndata_life_clean <- data_life %>%\n    dplyr::rename(life_expectancy = `Life expectancy`,\n                  year = `time`,\n                  country = `name`,\n                  iso_code = `geo`)\n\n\nLes codes ISO des pays devraient aussi être uniformisés pour les avoir en majuscules dans les deux jeux.\n\n\nCode\n# convertir les codes ISO du jeux data_life pour qu'ils soient en majuscules\n# inspiré de : https://stackoverflow.com/questions/16516593/convert-from-lowercase-to-uppercase-all-values-in-all-character-variables-in-dat\ndata_life_clean$iso_code <- toupper(data_life_clean$iso_code)\n\n\nNous nous retrouvons maintenant avec les noms de colonnes suivants dans le jeu Life Expectancy at Birth : iso_code, country, year, life_expectancy"
  },
  {
    "objectID": "import.html#manipulations",
    "href": "import.html#manipulations",
    "title": "Importation des données",
    "section": "Manipulations",
    "text": "Manipulations\nNous ne conserverons que les variables qui nous intéressent du jeux Energy. Nous nous attarderons donc seulement à l’énergie consommée.\n\n\nCode\ndata_energy_cons <- data_energy %>%\n    select(iso_code,\n           country,\n           year,\n           population,\n           contains(\"cons\")\n           )\n\nkable(slice_sample(data_energy_cons, n = 5))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\niso_code\ncountry\nyear\npopulation\nbiofuel_cons_change_pct\nbiofuel_cons_change_twh\nbiofuel_cons_per_capita\nbiofuel_consumption\ncoal_cons_change_pct\ncoal_cons_change_twh\ncoal_cons_per_capita\ncoal_consumption\nenergy_cons_change_pct\nenergy_cons_change_twh\nfossil_cons_change_pct\nfossil_cons_change_twh\nfossil_fuel_consumption\ngas_cons_change_pct\ngas_cons_change_twh\ngas_consumption\nhydro_cons_change_pct\nhydro_cons_change_twh\nhydro_consumption\nlow_carbon_cons_change_pct\nlow_carbon_cons_change_twh\nlow_carbon_consumption\nnuclear_cons_change_pct\nnuclear_cons_change_twh\nnuclear_consumption\noil_cons_change_pct\noil_cons_change_twh\noil_consumption\nother_renewable_consumption\nother_renewables_cons_change_pct\nother_renewables_cons_change_twh\nprimary_energy_consumption\nrenewables_cons_change_pct\nrenewables_cons_change_twh\nrenewables_consumption\nsolar_cons_change_pct\nsolar_cons_change_twh\nsolar_consumption\nwind_cons_change_pct\nwind_cons_change_twh\nwind_consumption\n\n\n\n\nCOL\nColombia\n1968\n19872508\nNA\nNA\nNA\nNA\n-8.914\n-2.291\n1178.069\n23.411\n5.396\n5.567\n4.528\n4.084\n94.275\n1.917\n0.221\n11.771\n11.432\n1.484\n14.463\n11.432\n1.484\n14.463\nNA\n0\n0\n11.624\n6.153\n59.093\n0\nNA\n0\n108.738\n11.432\n1.484\n14.463\nNA\n0\n0\nNA\n0\n0\n\n\nSSD\nSouth Sudan\n2020\n10606224\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nCMR\nCameroon\n1989\n11089225\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n16.068\n3.125\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n22.573\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nSRB\nSerbia\n2014\n7543965\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n-10.923\n-20.790\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n169.549\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nISR\nIsrael\n1971\n3018592\nNA\nNA\nNA\nNA\nNA\n0.000\n0.000\n0.000\n13.479\n8.566\n13.479\n8.566\n72.115\n-6.396\n-0.082\n1.206\nNA\n0.000\n0.000\nNA\n0.000\n0.000\nNA\n0\n0\n13.890\n8.648\n70.909\n0\nNA\n0\n72.115\nNA\n0.000\n0.000\nNA\n0\n0\nNA\n0\n0\n\n\n\n\n\nDéjà beaucoup mieux, nous sommes passé de 129 à 45 variables. Mais il y encore encore beaucoup de bruit, réduisons encore un peu plus.\n\n\nCode\ndata_energy_cons <- data_energy_cons %>%\n    select(iso_code,\n           country,\n           year,\n           population,\n           contains(\"consumption\")\n           )\n\nkable(slice_sample(data_energy_cons, n = 5))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\niso_code\ncountry\nyear\npopulation\nbiofuel_consumption\ncoal_consumption\nfossil_fuel_consumption\ngas_consumption\nhydro_consumption\nlow_carbon_consumption\nnuclear_consumption\noil_consumption\nother_renewable_consumption\nprimary_energy_consumption\nrenewables_consumption\nsolar_consumption\nwind_consumption\n\n\n\n\nHRV\nCroatia\n1998\n4659937\nNA\n2.705\n80.897\n25.118\n17.807\n17.823\n0.000\n53.075\n0.016\n98.720\n17.823\n0.000\n0.000\n\n\nNA\nSouth America\n2019\n428318218\nNA\n345.465\n4340.131\n1398.971\n1763.960\n2289.526\n62.154\n2595.695\n231.006\n6924.609\n2227.373\n41.052\n191.354\n\n\nNA\nOther CIS (BP)\n2006\nNA\nNA\n9.321\n88.048\n52.125\n92.624\n99.841\n7.209\n26.602\n0.000\n187.889\n92.632\n0.000\n0.007\n\n\nMLT\nMalta\n1991\n368676\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n8.540\nNA\nNA\nNA\n\n\nNA\nEurope (Shift)\n1990\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\n\n\n\n\nAjout d’une variable continents\n\nPour ce faire, nous utiliserons le package de Arel-Bundock, Enevoldsen, et Yetman (2018)\n\n\n\nCode\ndata_energy_cons_clean <- data_energy_cons %>%\n    mutate(countrycode(data_energy_cons$iso_code, origin = \"iso3c\", destination = \"continent\", custom_match = c( ATA = 'Antartica', ANT = 'Americas')), .before = 1) %>%\n    rename(continent = `countrycode(...)`)\n\nkable(slice_sample(data_energy_cons_clean, n = 10))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncontinent\niso_code\ncountry\nyear\npopulation\nbiofuel_consumption\ncoal_consumption\nfossil_fuel_consumption\ngas_consumption\nhydro_consumption\nlow_carbon_consumption\nnuclear_consumption\noil_consumption\nother_renewable_consumption\nprimary_energy_consumption\nrenewables_consumption\nsolar_consumption\nwind_consumption\n\n\n\n\nAfrica\nZWE\nZimbabwe\n1964\n4310332\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nEurope\nROU\nRomania\n1918\n12117371\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nAmericas\nANT\nNetherlands Antilles\n2004\n292853\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n56.305\nNA\nNA\nNA\n\n\nAsia\nHKG\nHong Kong\n2017\n7461508\nNA\n72.968\n359.084\n31.161\n0.000\n0.225\n0.000\n254.955\n0.208\n359.495\n0.225\n0.015\n0.003\n\n\nNA\nNA\nEurope (BP)\n2010\nNA\n149.27\n4261.185\n19244.771\n6229.469\n1803.572\n5624.171\n2748.792\n8754.117\n431.424\n24868.943\n2875.379\n65.219\n425.895\n\n\nAmericas\nLCA\nSaint Lucia\n1998\n156872\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n0.865\nNA\nNA\nNA\n\n\nAfrica\nBWA\nBotswana\n1948\n395735\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nAsia\nBRN\nBrunei\n1971\n138679\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\nNA\n\n\nAsia\nVNM\nVietnam\n1990\n66912616\nNA\n25.853\n61.252\n0.386\n15.876\n15.876\n0.000\n35.012\n0.000\n77.128\n15.876\n0.000\n0.000\n\n\nEurope\nLUX\nLuxembourg\n2000\n435634\nNA\n1.276\n36.694\n7.808\n0.365\n0.510\n0.000\n27.611\n0.071\n37.204\n0.510\n0.000\n0.073\n\n\n\n\n\nUn message nous mentionne que deux codes ISO de pays n’ont pas trouvé d’équivalent, nous avons donc dû les ajouter manuellement dans la commande.\nAprès une analyse un peu plus poussée du jeu de données, nous constatons que la variable country correspond parfois à un pays et d’autres, à un continent ou région. Il serait donc préférable d’éliminer ces observations du jeu maintenant que nous avons ajouté la variable continent.\n\n\nCode\ndata_energy_cons_clean <- data_energy_cons_clean %>%\n    filter(!is.na(continent))\n\n\nLes pays sont donc maintenant associés aux continents suivants dans notre jeu de données :\nAsia, Europe, Africa, Oceania, Antartica, Americas"
  },
  {
    "objectID": "import.html#sauvegarde-de-nos-jeux-de-données-nettoyés",
    "href": "import.html#sauvegarde-de-nos-jeux-de-données-nettoyés",
    "title": "Importation des données",
    "section": "Sauvegarde de nos jeux de données nettoyés",
    "text": "Sauvegarde de nos jeux de données nettoyés\n\n\nCode\nwrite_csv(data_energy_cons_clean, file = \"data/processed/owid-energy-consumption-data.csv\")\nwrite_csv(data_life_clean, file = \"data/processed/gm-life-expectancy-data.csv\")\n\n\nNous voilà maintenant avec nos deux jeux de données nettoyés que nous pourrons réutiliser :\ndata/processed/data_package.zip, data/processed/gm-life-expectancy-data.csv, data/processed/owid-energy-consumption-data.csv"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "FAS1002 - Projet de fin de session",
    "section": "",
    "text": "Important\n\n\n\nPar manque de temps, vous ne trouverez pas de description du projet."
  },
  {
    "objectID": "index.html#remerciements",
    "href": "index.html#remerciements",
    "title": "FAS1002 - Projet de fin de session",
    "section": "Remerciements",
    "text": "Remerciements\n\nJ’aimerais remercier la cohorte du cours FAS1002 de l’automne 2022 pour leurs questions et support tout au long de la session!"
  },
  {
    "objectID": "a-propos.html#bio",
    "href": "a-propos.html#bio",
    "title": "À propos",
    "section": "Bio",
    "text": "Bio\nLe cours FAS1002 est une introduction à la programmation en sciences sociales avec R, un langage de programmation et un environnement statistique populaire pour analyser de données. Principalement convoité pour ses fonctionnalités statistiques avancées, R s’avère autant utilisé en recherche qu’en industrie, ce qui confère un avantage concret à son apprentissage. À ce sujet, R se prête bien à l’apprentissage de la programmation en raison de:\n\nsa nature libre et gratuite;\nsa polyvalence de fonctionnalités;\nsa popularité et sa variété de domaines d’application;\nla diversité de ressources et d’aide disponible gratuitement sur le Web;\nsa vibrante communauté reconnue pour son inclusivité et son support bienveillant."
  },
  {
    "objectID": "a-propos.html#contact",
    "href": "a-propos.html#contact",
    "title": "À propos",
    "section": "Contact",
    "text": "Contact\nProgramme | Microprogramme en analyse des mégadonnées en sciences humaines et sociales\nUniversité | Université de Montréal\nCourriel | fas1002@samuelguay.ca"
  }
]